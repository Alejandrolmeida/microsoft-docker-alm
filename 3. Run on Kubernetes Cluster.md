# Run on Kubernetes Cluster

Hacemos login con nuestro Servicio Principal

    $ az-service-login.sh

Hacemos login en nuestro cluster de Kubernetes (AKS)
    
    $ az-aks-login.sh

Mostramos la configuracion 

    $ az aks show --resource-group microsoft-docker-alm --name kubecluster

Actualizamos el Servicio

    $ az aks upgrade --resource-group microsoft-docker-alm --name kubecluster --kubernetes-version "1.9.2"

Probamos la conexion mostrando los nodos del cluster

    $ kubectl get nodes
 
Creamos nuestro archivo de manifiesto de publicaci√≥n
    
    $ nano qloapps_publish.yaml

Publicamos la implementacion en el cluster
    
    $ kubectl create -f ~/github/Alejandrolmeida/microsoft-docker-alm/devop/kube/azure-vote.yaml

Comprobamos la ejecucion
    
    $ kubectl get service qloapps --watch

Mostramos el Dashboard
    
    $ az aks browse --resource-group microsoft-docker-alm --name kubecluster

Eliminamos la implementacion del cluster
    
    $ kubectl delete -f ~/github/Alejandrolmeida/microsoft-docker-alm/devop/kube/qloapps_publish.yaml

Elimnamos los recursos
    
    $ az aks delete --resource-group microsoft-docker-alm  --name kubecluster --y

## Table of contents
1. [Setup Environment](1.%20Setup%20Environment.md)
2. [Run on Azure Container Registry](2.%20Run%20on%20Azure%20Container%20Registry.md)
3. [Run on Kubernetes Cluster](3.%20Run%20on%20Kubernetes%20Cluster.md)